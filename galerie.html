<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Images</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>
  <div id="header-placeholder"></div>

  <main>
  <section class="gallery">
    <h2>Nos images üì∏</h2>

    <!-- Onglets des sous-galeries -->
    <div class="tabs">
      <button class="tab-button active" data-gallery="plongee">Plong√©e bouteille</button>
      <button class="tab-button" data-gallery="apnee">Apn√©e</button>
      <button class="tab-button" data-gallery="pmt">Natation PMT</button>
    </div>

    <!-- Conteneurs des carrousels -->
    <div class="carousel-container active" id="plongee">
      <div class="carousel">
        <button class="prev">&#10094;</button>
        <div class="carousel-images">
          <img src="images/plongee1.jpg" alt="Plong√©e 1">
          <img src="images/plongee2.jpg" alt="Plong√©e 2">
          <img src="images/plongee3.jpg" alt="Plong√©e 3">
        </div>
        <button class="next">&#10095;</button>
      </div>
    </div>

    <div class="carousel-container" id="apnee">
      <div class="carousel">
        <button class="prev">&#10094;</button>
        <div class="carousel-images">
          <img src="images/apnee1.jpg" alt="Apn√©e 1">
          <img src="images/apnee2.jpg" alt="Apn√©e 2">
          <img src="images/apnee3.jpg" alt="Apn√©e 3">
        </div>
        <button class="next">&#10095;</button>
      </div>
    </div>

    <div class="carousel-container" id="pmt">
      <div class="carousel">
        <button class="prev">&#10094;</button>
        <div class="carousel-images">
          <img src="images/pmt1.jpg" alt="Natation PMT 1">
          <img src="images/pmt2.jpg" alt="Natation PMT 2">
        </div>
        <button class="next">&#10095;</button>
      </div>
    </div>

  </section>
</main>

  <footer>
    <p>&copy; 2025 Beauvais Subaquatique - Tous droits r√©serv√©s</p>
  </footer>

  <script>
  // === Header & burger ===
  fetch("header.html")
    .then(r => r.text())
    .then(data => {
      document.getElementById("header-placeholder").innerHTML = data;
      const hamburger = document.getElementById("hamburger");
      const navLinks = document.getElementById("nav-links");
      if(hamburger){
        hamburger.addEventListener("click", () => navLinks.classList.toggle("active"));
      }
    });

  // === Gestion des onglets ===
  const tabButtons = document.querySelectorAll(".tab-button");
  const carousels = document.querySelectorAll(".carousel-container");

  tabButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      tabButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      carousels.forEach(c => c.classList.remove("active"));
      document.getElementById(btn.dataset.gallery).classList.add("active");
    });
  });

  // === Carrousel automatique et manuel ===
  document.querySelectorAll(".carousel").forEach(carousel => {
    const imagesDiv = carousel.querySelector(".carousel-images");
    const images = imagesDiv.querySelectorAll("img");
    let index = 0;

    const showSlide = (i) => {
      imagesDiv.style.transform = `translateX(${-i * 100}%)`;
    }

    // Fl√®ches manuelles
    carousel.querySelector(".next").addEventListener("click", () => {
      index = (index + 1) % images.length;
      showSlide(index);
    });

    carousel.querySelector(".prev").addEventListener("click", () => {
      index = (index - 1 + images.length) % images.length;
      showSlide(index);
    });

    // Diaporama automatique toutes les 5 secondes
    setInterval(() => {
      index = (index + 1) % images.length;
      showSlide(index);
    }, 5000);
  });
</script>
</body>
</html>
